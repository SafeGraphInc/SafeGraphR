% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_distancing.R
\name{read_distancing}
\alias{read_distancing}
\title{Read in Stay-at-Home Data}
\usage{
read_distancing(
  start,
  end,
  dir = ".",
  gen_fips = TRUE,
  by = c("state_fips", "county_fips"),
  filter = NULL,
  select = c("origin_census_block_group", "device_count",
    "completely_home_device_count", "part_time_work_behavior_devices",
    "full_time_work_behavior_devices"),
  ...
)
}
\arguments{
\item{start}{Date object with the starting date to read in stay-at-home data.}

\item{end}{Ending date to read stay-at-home data to.}

\item{dir}{The folder in which the "2020" (etc.) folder resides.}

\item{gen_fips}{Set to \code{TRUE} to use the \code{origin_census_block_group} variable to generate \code{state_fips} and \code{county_fips} as numeric variables. This will also result in \code{origin_census_block_group} being converted to character.}

\item{by}{After reading, collapse to this level by \code{sum}ming all the data. Usually \code{c('state_fips','county_fips')} with \code{gen_fips = TRUE}. Set to \code{NULL} to aggregate across all initial rows, or set to \code{FALSE} to not aggregate at all.}

\item{filter}{A character string describing a logical statement for filtering the data, for example \code{filter = 'state_fips == 6'} would give you only data from California. Will be used as an \code{i} argument in a \code{data.table}, see \code{help(data.table)}.  Filtering here instead of afterwards can cut down on time and memory demands.}

\item{select}{Character vector of variables to get from the file. Set to \code{NULL} to get all variables.}

\item{...}{Other arguments to be passed to \code{data.table::fread} when reading in the file. For example, \code{nrows} to only read in a certain number of rows.}
}
\description{
Takes a folder of stay-at-home Safegraph data structured how it comes from AWS (i.e. folders 2020/04/03 for April 3 2020) and reads them in.
}
\details{
The stay-at-home data is no longer being updated as of April 19, 2021. This function should still work for the old data though.

Note that after reading in data, if \code{gen_fips = TRUE}, state and county names can be merged in using \code{data(fips_to_names)}.
}
\examples{

\dontrun{

# The directory distdat is the folder we have downloaded the distancing data to from AWS.
# Read and compile all distancing data from May 1 to May 7
distancing <- read_distancing(
    start = lubridate::ymd('2020-05-01'),
    end = lubridate::ymd('2020-05-07'),
    dir = distdat
)

}
}
