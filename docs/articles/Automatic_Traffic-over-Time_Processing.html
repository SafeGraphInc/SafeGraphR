<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Automatic Traffic-over-Time Processing • SafeGraphR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Automatic Traffic-over-Time Processing">
<meta property="og:description" content="SafeGraphR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SafeGraphR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/SafeGraphR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Automatic_Traffic-over-Time_Processing.html">Automatic Traffic-over-Time Processing</a>
    </li>
    <li>
      <a href="../articles/distancing_vignette.html">Processing and Using SafeGraph Stay-at-Home Data</a>
    </li>
    <li>
      <a href="../articles/patterns_vignette.html">Processing and Using SafeGraph Patterns Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Automatic Traffic-over-Time Processing</h1>
            
      
      
      <div class="hidden name"><code>Automatic_Traffic-over-Time_Processing.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">SafeGraphR</span><span class="op">)</span></code></pre></div>
<p>This vignette will walk through the process of using the Traffic-Over-Time functions, introduced in <strong>SafeGraphR</strong> version 0.3.0, which completely automate the process of downloading, reading, processing, and outputting SafeGraph data in the <code>visits_by_day</code> column. This process is optimized for use with <code>visits_by_day</code>, although you might be able to get at least some of it to work for other variables.</p>
<p>The idea is that you can do basically everything you need with a single <code><a href="../reference/growth_over_time.html">growth_over_time()</a></code> call. This vignette will discuss how to make that call, and also talk about some of the internal functions it uses, so you can know how to use them yourself if you’d like to be a little more hands-on.</p>
<p><strong>Note that in any case where this function downloads data from AWS - wherever you need a key or secret argument - that the original AWS bucket no longer exists; you’ll need to pass along the appropriate <code><a href="../reference/safegraph_aws.html">safegraph_aws()</a></code> arguments as well if you have your own AWS setup.</strong></p>
<hr>
<div class="section level2">
<h2 id="growth_over_time">growth_over_time<a class="anchor" aria-label="anchor" href="#growth_over_time"></a>
</h2>
<p>The <code><a href="../reference/growth_over_time.html">growth_over_time()</a></code> function is intended to produce a data set and (optionally) graph showing how a certain <em>subset</em> of traffic data from the weekly patterns files changes over <em>a set of dates</em>, possibly doing <em>different groups separately</em>.</p>
<p>The first thing we need to do is determine the set of dates that we want to track traffic over, for the <code>dates</code> argument. This is a vector of dates. If you want a range of dates, one good way to do it is <code>lubridate::ymd('year-month-day') + lubridate::days(0:numberofdaystotrack)</code>. The date range you give will be expanded based on <code>ma</code> to ensure that when you take a moving average with <code><a href="../reference/ma.html">ma()</a></code>, your entire date range survives.</p>
<p>This expanded date range will be passed to <code><a href="../reference/patterns_lookup.html">patterns_lookup()</a></code> to determine the set of folders that the data you need are in. If you also give an AWS <code>key</code> and <code>secret</code>, it will download all those files for you, along with the appropriate normalization data.</p>
<p>If you want to get more precise, you can instead use the <code>filelist</code> and <code>filelist_norm</code> arguments to specify which files exactly you want being read in for patterns and normalization data. Note that <code>growth_over_time</code> uses the national-level <code>total_devices_seen</code> column for normalization.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Not yet working code</span>
<span class="va">gr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/growth_over_time.html">growth_over_time</a></span><span class="op">(</span><span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">'2020-07-01'</span><span class="op">)</span> <span class="op">+</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html" class="external-link">days</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>,
                       key <span class="op">=</span> <span class="st">'mykey'</span>,
                       secret <span class="op">=</span> <span class="st">'mysecret'</span><span class="op">)</span></code></pre></div>
<p>We also must specify a <code>by</code> argument, which is a character vector giving the variables to do calculations by. Visits data will be aggregated to this level before growth calculations are made. So for example, <code>by = c('brands','state_fips')</code> would calculate visits in each state for each brand.</p>
<p>Any variable in <code>by</code> other than the actual variables in the patterns files, or <code>state_fips</code> or <code>county fips</code>, must be brought in by merging the patterns files with the <code>data.table</code> provided in the <code>naics_link</code> argument. Variables other than <code>naics_code</code> may be brought in this way and used.</p>
<p>Many of the other options here, like <code>filter</code>, <code>start_dates</code>, and <code>dir</code> are fairly straightforward and are shared with <code><a href="../reference/read_patterns.html">read_patterns()</a></code>. Some others will generally not be touched, for example the <code>backfill_date</code> arguments, which will only need to be updated if you are using a version of the patterns backfill other than the one available the last time this package was updated. It’s also unlikely that you’ll want to do anything with <code>read_opts()</code>, which just passes options along to <code>read_many_patterns</code>()<code>, or</code>processing_opts()<code>, which passes options to</code>processing_template()`.</p>
<p>One argument to be aware of is <code>test_run</code>. Set this to <code>FALSE</code> to actually run your command. Because this function takes so long, and downloads so much data, you want to be real sure it runs right before doing it! <code>test_run = TRUE</code>, which is the default, will use only one week of data, limiting the impact it has while you check if things work.</p>
<p>Setting your options appropriately will use <code><a href="../reference/patterns_lookup.html">patterns_lookup()</a></code> to figure out which patterns and normalization files to read in, <code><a href="../reference/read_many_patterns.html">read_many_patterns()</a></code> and <code><a href="../reference/read_many_csvs.html">read_many_csvs()</a></code> to read them, respectively, and then <code><a href="../reference/processing_template.html">processing_template()</a></code> to prepare them.</p>
<p>The <code><a href="../reference/processing_template.html">processing_template()</a></code> function will take patterns data fresh off of <code><a href="../reference/read_many_patterns.html">read_many_patterns()</a></code> and normalization data fresh off of <code><a href="../reference/read_many_csvs.html">read_many_csvs()</a></code> and process them appropriately, resulting in a sample-size adjusted visits value and a measurement of growth in traffic since the first day in the sample.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Example data, imagine these came from read_many_patterns(expand_int = 'visits_by_day')</span>
<span class="co"># and read_many_csvs(), respectively</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"pat_NY_NJ"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"norm"</span><span class="op">)</span>

<span class="va">pat_NY_NJ</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>visits_by_day <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">visits_by_day</span><span class="op">)</span><span class="op">)</span>, by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="va">date</span>, <span class="va">state_fips</span>, <span class="va">county_fips</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;            date state_fips county_fips visits_by_day</span>
<span class="co">#&gt;   1: 2020-06-22         34          01         23878</span>
<span class="co">#&gt;   2: 2020-06-23         34          01         23898</span>
<span class="co">#&gt;   3: 2020-06-24         34          01         24463</span>
<span class="co">#&gt;   4: 2020-06-25         34          01         24788</span>
<span class="co">#&gt;   5: 2020-06-26         34          01         28190</span>
<span class="co">#&gt;  ---                                                </span>
<span class="co">#&gt; 577: 2020-06-24         36         123          1001</span>
<span class="co">#&gt; 578: 2020-06-25         36         123           961</span>
<span class="co">#&gt; 579: 2020-06-26         36         123          1212</span>
<span class="co">#&gt; 580: 2020-06-27         36         123          1328</span>
<span class="co">#&gt; 581: 2020-06-28         36         123           823</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">norm</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">date</span>, <span class="va">total_devices_seen</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;          date total_devices_seen</span>
<span class="co">#&gt; 1: 2020-06-22           17312070</span>
<span class="co">#&gt; 2: 2020-06-23           16870682</span>
<span class="co">#&gt; 3: 2020-06-24           17103600</span>
<span class="co">#&gt; 4: 2020-06-25           17014972</span>
<span class="co">#&gt; 5: 2020-06-26           16964900</span>
<span class="co">#&gt; 6: 2020-06-27           16304498</span>
<span class="co">#&gt; 7: 2020-06-28           16341487</span></code></pre></div>
<p>We can pass these two to <code>processing_templtae()</code> and it will do the sample normalization, the moving average, and the growth-since-first-day. Note that the normalization variable we want should be the last column of <code>norm</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">growth_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/processing_template.html">processing_template</a></span><span class="op">(</span><span class="va">pat_NY_NJ</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>visits_by_day <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">visits_by_day</span><span class="op">)</span><span class="op">)</span>, by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="va">date</span>, <span class="va">state_fips</span>, <span class="va">county_fips</span><span class="op">)</span><span class="op">]</span>,
                    norm <span class="op">=</span> <span class="va">norm</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">date</span>, <span class="va">total_devices_seen</span><span class="op">)</span><span class="op">]</span>,
                    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'state_fips'</span>,<span class="st">'county_fips'</span><span class="op">)</span>,
                    ma <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">[</span><span class="op">]</span> <span class="co"># since we only have one week of data, use a very short moving average, just to demonstrate</span>

<span class="va">growth_data</span>
<span class="co">#&gt;            date state_fips county_fips visits_by_day total_devices_seen</span>
<span class="co">#&gt;   1: 2020-06-23         34          01         23898           16870682</span>
<span class="co">#&gt;   2: 2020-06-24         34          01         24463           17103600</span>
<span class="co">#&gt;   3: 2020-06-25         34          01         24788           17014972</span>
<span class="co">#&gt;   4: 2020-06-26         34          01         28190           16964900</span>
<span class="co">#&gt;   5: 2020-06-27         34          01         28943           16304498</span>
<span class="co">#&gt;  ---                                                                   </span>
<span class="co">#&gt; 494: 2020-06-24         36          99          2292           17103600</span>
<span class="co">#&gt; 495: 2020-06-25         36          99          2145           17014972</span>
<span class="co">#&gt; 496: 2020-06-26         36          99          2335           16964900</span>
<span class="co">#&gt; 497: 2020-06-27         36          99          2751           16304498</span>
<span class="co">#&gt; 498: 2020-06-28         36          99          2026           16341487</span>
<span class="co">#&gt;        adj_visits     growth</span>
<span class="co">#&gt;   1: 0.0013979046 0.00000000</span>
<span class="co">#&gt;   2: 0.0014234120 0.01824687</span>
<span class="co">#&gt;   3: 0.0014435591 0.03265929</span>
<span class="co">#&gt;   4: 0.0015592504 0.11541975</span>
<span class="co">#&gt;   5: 0.0017184102 0.22927577</span>
<span class="co">#&gt;  ---                        </span>
<span class="co">#&gt; 494: 0.0001255962 0.09600879</span>
<span class="co">#&gt; 495: 0.0001300362 0.13475380</span>
<span class="co">#&gt; 496: 0.0001318513 0.15059337</span>
<span class="co">#&gt; 497: 0.0001531818 0.33673288</span>
<span class="co">#&gt; 498: 0.0001463527 0.27713911</span></code></pre></div>
<p>This output from <code><a href="../reference/processing_template.html">processing_template()</a></code> is then the output from <code><a href="../reference/growth_over_time.html">growth_over_time()</a></code>.</p>
<p>Or, if <code>make_graph = TRUE</code>, instead you get a list where the <code><a href="../reference/processing_template.html">processing_template()</a></code> output is the first element of that list! The second would then be a graph or list of graphs. The other arguments in <code><a href="../reference/growth_over_time.html">growth_over_time()</a></code> have to do with the creation of graphs.</p>
<hr>
</div>
<div class="section level2">
<h2 id="graphing-with-growth_over_time">Graphing with growth_over_time<a class="anchor" aria-label="anchor" href="#graphing-with-growth_over_time"></a>
</h2>
<p>If you want control over the graphing process, it’s probably just a good idea to take the <code><a href="../reference/processing_template.html">processing_template()</a></code>/<code><a href="../reference/growth_over_time.html">growth_over_time()</a></code> output and graph it yourself.</p>
<p>However, setting <code>make_graph = TRUE</code> will get you a pretty nice-looking graph without any further work! Probably not completely publication-ready (but it <em>does</em> look nice - you’d have to fiddle with titles, etc., though), but definitely good enough for your own information.</p>
<p>Setting <code>make_graph = TRUE</code> with nothing else will simply take the output discussed in the last section and send it to <code><a href="../reference/graph_template.html">graph_template()</a></code>, which produces a <strong>ggplot2</strong> line graph with labels at the end of the lines, and a separate line for each combination of <code>by</code>. It will also combine the elements of <code>by</code> into a single variable, if there’s more than one element.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># (this won't work since I'm going straight to graph_template, but I could have</span>
<span class="co"># loaded data(fips_to_names) and used that as a line_labels argument in growth_over_time</span>
<span class="co"># to label the lines with their county names rather than just the numbers)</span>

<span class="co"># This example uses only a few counties</span>
<span class="fu"><a href="../reference/graph_template.html">graph_template</a></span><span class="op">(</span><span class="va">growth_data</span><span class="op">[</span><span class="va">state_fips</span> <span class="op">==</span> <span class="fl">34</span> <span class="op">&amp;</span> <span class="va">county_fips</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">5</span><span class="op">)</span><span class="op">]</span>,
               by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'county_fips'</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="co"># This is a regular ggplot2 object, so we can further modify it as one</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">'serif'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Warning in max(.): no non-missing arguments to max; returning -Inf</span>
<span class="co">#&gt; Warning in max.default(structure(numeric(0), class = "Date"), na.rm = FALSE): no</span>
<span class="co">#&gt; non-missing arguments to max; returning -Inf</span>
<span class="co">#&gt; Warning in min.default(structure(numeric(0), class = "Date"), na.rm = FALSE): no</span>
<span class="co">#&gt; non-missing arguments to min; returning Inf</span>
<span class="co">#&gt; Warning in max.default(structure(numeric(0), class = "Date"), na.rm = FALSE): no</span>
<span class="co">#&gt; non-missing arguments to max; returning -Inf</span>
<span class="co">#&gt; Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =</span>
<span class="co">#&gt; "none")` instead.</span></code></pre></div>
<p><img src="Automatic_Traffic-over-Time_Processing_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
<p>And that’s the basic idea! You can change the optios of <code><a href="../reference/graph_template.html">graph_template()</a></code> by passing them to the <code>graph_opts</code> argument of <code><a href="../reference/growth_over_time.html">growth_over_time()</a></code> as a list, but dang that sounds like a lot of work to me! <code><a href="../reference/growth_over_time.html">growth_over_time()</a></code> gives you back a list. The first element of that list is the <code><a href="../reference/processing_template.html">processing_template()</a></code> output, and the second is the <code><a href="../reference/graph_template.html">graph_template()</a></code> output.</p>
<p>Unless!</p>
<p>One thing that is likely to be common in <code><a href="../reference/growth_over_time.html">growth_over_time()</a></code> is that there will be a <em>lot</em> of combinations of the <code>by</code> variables. Too many to track if you put each of their lines on the same graph. So the <code>graph_by</code> option will let you specify a vector of character variables, which must be a subset of <code>by</code>. Then, it will produce <em>separate</em> graphs for each combination of <code>graph_by</code> variables.</p>
<p>So, want to track two brands separately in each state? Use <code>filter</code> to pick those two brands, then use <code>by = c('state_fips','brands')</code>, and then finally <code>graph_by = 'state_fips'</code>. Now, <code><a href="../reference/growth_over_time.html">growth_over_time()</a></code> will still return a two-element list, the first of which is the <code><a href="../reference/processing_template.html">processing_template()</a></code> output.</p>
<p>But the second element will now be its own list, with one element for each combination of <code>graph_by</code>. Each element of <em>that</em> list will be a separate <code><a href="../reference/graph_template.html">graph_template()</a></code> call, using only data from that combination of <code>graph_by</code> variables, and graphing lines separately by the <em>remaining non-<code>graph_by</code> elements of <code>by</code></em>. So with <code>by = c('state_fips','brands')</code> and <code>graph_by = 'state_fips'</code> we’d get one graph per state, and one line per brand on each of those graphs.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Nick Huntington-Klein.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
